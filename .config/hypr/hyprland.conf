monitor = desc:BOE 0x0BCA,2256x1504@60.0,0x0,1.6
monitor=desc:Dell Inc. DELL U2415 PVJVW5B70A5S,1920x1200@60,-1920x0,1.0

workspace = 1,monitor:desc:Dell Inc. DELL U2415 PVJVW5B70A5S
workspace = 2,monitor:desc:Dell Inc. DELL U2415 PVJVW5B70A5S
workspace = 3,monitor:desc:Dell Inc. DELL U2415 PVJVW5B70A5S
workspace = 4,monitor:desc:BOE 0x0BCA

exec-once = hyprpaper
exec-once = hypridle
exec-once = hyprsunset
exec-once = waybar
#exec-once = pipewire
#exec-once = pipewire-pulse
#exec-once = wireplumber
#exec-once = wlsunset -S 7:00 -s 21:00
exec-once = systemctl --user start hyprpolkitagent
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = wl-clip-persist --clipboard regular
exec-once = cliphist wipe
exec-once = packages-history

env = HYPRCURSOR_THEME,Posy-Cursor-Mono-Black
env = HYPRCURSOR_SIZE,32
env = XCURSOR_THEME,Posy-Cursor-Mono-Black
env = XCURSOR_SIZE,32

env = AQ_DRM_DEVICES,/dev/dri/nvidia-egpu:/dev/dri/amd-igpu
#env = AQ_DRM_DEVICES,/dev/dri/amd-igpu

env = LIBVA_DRIVER_NAME,nvidia
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = NVD_BACKEND,direct
env = AQ_FORCE_LINEAR_BLIT=0
env = ELECTRON_OZONE_PLATFORM_HINT,auto

opengl {
    nvidia_anti_flicker = false
}

input {
    #kb_layout = us
    kb_layout = us,us
    kb_variant = ,colemak_dh
    kb_options = grp:alt_space_toggle
    touchpad {
        natural_scroll = true
        disable_while_typing = false
    }
}

cursor {
    no_hardware_cursors = true
}

gestures {
    workspace_swipe = true
    workspace_swipe_fingers = 3
}

general {
    gaps_in = 2
    gaps_out = 4
    border_size = 0
    layout = master
    allow_tearing = true
}

decoration {
    rounding = 0
    active_opacity = 1
    inactive_opacity = 1
    fullscreen_opacity = 1
    blur {
      enabled = true
      size = 8
      passes = 2
	    new_optimizations = true
	    xray = false
	    ignore_opacity = true
    }
    shadow {
      enabled = true
      color = rgba(47474799)
      color_inactive = rgba(33333366)
      offset = -8 8
      range = 16
      render_power = 4
      ignore_window = true
    }
}

animations {
    enabled = true
    bezier = ease_out, 0.2, 1, 0.6, 1

    animation = windows, 1, 4, ease_out, slide
    animation = windowsIn, 1, 4, ease_out, slide
    animation = windowsOut, 1, 4, ease_out, slide
    animation = windowsMove, 1, 4, ease_out, slide
    animation = workspaces, 1, 4, ease_out
}

master {
    orientation = left
    new_on_top = true
    drop_at_cursor = false
    mfact = 0.5
}

xwayland {
    force_zero_scaling = true
}

ecosystem {
    no_update_news = true
}

misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vfr = false
    vrr = 0
}

layerrule = blur,waybar
windowrule = immediate, title:^(Minecraft\*) 
windowrulev2 = float, title:^(.*Hyprshot.*)$
#windowrule = float,class:(org.pulseaudio.pavucontrol)
#windowrule = center,class:(org.pulseaudio.pavucontrol)
#windowrule = opacity 0.99 0.99, class:^(zen)$

# On lid close: move workspace 4 to Dell and disable BOE
bindl = , switch:on:Lid Switch, exec, hyprctl dispatch moveworkspacetomonitor 4 "desc:Dell Inc. DELL U2415 PVJVW5B70A5S" && hyprctl keyword monitor "desc:BOE 0x0BCA, disable"

# On lid open: move workspace 4 back to BOE and re-enable BOE
bindl = , switch:off:Lid Switch, exec, hyprctl dispatch moveworkspacetomonitor 4 "desc:BOE 0x0BCA" && hyprctl keyword monitor "desc:BOE 0x0BCA, 2256x1504@60.0,0x0,1.6"

bind = SUPER, Q, killactive,
bind = SUPER, E, exec, $TERMINAL
bind = SUPER, ESCAPE, exec, waybar-reload
bind = SUPER, B, exec, wallpaper
bind = SUPER, SPACE, exec, tofi-drun --drun-launch=true
bind = SUPER, F, fullscreen
bind = SUPER SHIFT, F, exec, hyprctl dispatch togglefloating active && hyprctl dispatch resizeactive exact 50% 50% && hyprctl dispatch centerwindow
bind = SUPER, X, exec, powermenu
bind = SUPER, C, exec, bemoji
bind = SUPER, V, exec, cliphist list | tofi -c "$XDG_CONFIG_HOME"/tofi/history-config | cliphist decode | wl-copy
bind = SUPER, L, exec, toggle_eDP-1
bind = , XF86AudioMute, exec, volume mute
binde = , XF86AudioLowerVolume, exec, volume down
binde = , XF86AudioRaiseVolume, exec, volume up
bind = , XF86AudioPrev, exec, playerctl previous
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
binde = , XF86MonBrightnessDown, exec, backlight down
binde = , XF86MonBrightnessUp, exec, backlight up


bind = , Print, exec, hyprshot-gui
bind = , XF86AudioMedia, exec, record
binds = ALT, XF86AudioMedia, exec, record-slurp

bind = SUPER, h, movefocus, l
bind = SUPER, l, movefocus, r
bind = SUPER, k, movefocus, u
bind = SUPER, j, movefocus, d

bind = SUPER SHIFT, h, movewindow, l
bind = SUPER SHIFT, l, movewindow, r
bind = SUPER SHIFT, k, movewindow, u
bind = SUPER SHIFT, j, movewindow, d

binde = SUPER CONTROL, h, resizeactive, -20 0
binde = SUPER CONTROL, l, resizeactive, 20 0
binde = SUPER CONTROL, k, resizeactive, 0 -20
binde = SUPER CONTROL, j, resizeactive, 0 20

bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5

bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5

bindm = SUPER, mouse:272, movewindow
